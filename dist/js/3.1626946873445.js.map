{"version":3,"file":"js/3.1626946873445.js","sources":["webpack:///./src/views/liveRoom/compoents/roomLogin.vue?f5ea","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?caaf","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?ef9d","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?2e72","webpack:///./src/views/liveRoom/compoents/roomLogin.vue","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?1679","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?c8ca","webpack:///./src/views/liveRoom/compoents/roomLogin.vue?6305"],"sourcesContent":["import _objectSpread from \"/Users/alongshi/Desktop/SourceTree_Project/work/liveh5/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport Button from '@/components/button/button';\nimport CodeButton from '@/components/button/codeButton';\nimport { Toast } from 'vant';\nexport default {\n  name: 'RoomLogin',\n  components: {\n    'CodeButton': CodeButton,\n    'Button': Button\n  },\n  data: function data() {\n    return {\n      roomLoginFlow: false,\n      loginFrom: {\n        phone: '',\n        code: ''\n      },\n      btnText: '登录',\n      routeStr: ''\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['managerId', 'channelInfo'])),\n  methods: {\n    stop: function stop(e) {\n      e.stopPropagation();\n    },\n    open: function open(str) {\n      this.roomLoginFlow = true;\n\n      if (str == 'setting') {\n        this.routeStr = str;\n      }\n    },\n    close: function close() {\n      this.roomLoginFlow = false;\n    },\n    // 登录校验\n    validator: function validator() {\n      if (!/^[1][3,4,5,7,8,9][0-9]{9}$/.test(this.loginFrom.phone)) {\n        Toast('请输入正确的手机号');\n        return false;\n      }\n\n      if (!/^\\d{6}$/.test(this.loginFrom.code)) {\n        console.info('this.loginFrom', this.loginFrom);\n        Toast('请输入短信验证码');\n        return false;\n      }\n\n      return true;\n    },\n    codeButton: function codeButton() {\n      console.info('sendCode');\n      var params = {\n        phone: this.loginFrom.phone\n      };\n      this.$store.dispatch('userInfo/getCode', params).then(function (res) {\n        console.info('获取短信验证码成功', res);\n      }).catch(function (err) {\n        console.info('获取短信验证码失败', err);\n      });\n    },\n    btnClick: function btnClick() {\n      var _this = this;\n\n      console.info('获取验证码');\n\n      if (!this.validator()) {\n        return;\n      }\n\n      var data = {\n        word: this.loginFrom.phone\n      };\n      this.$store.dispatch('userInfo/secret', data).then(function (res) {\n        console.info(res);\n        var text = res.text;\n        var params = {\n          name: text,\n          code: _this.loginFrom.code,\n          vChannelType: '05',\n          // 登录路径\n          managerId: _this.managerId == '' ? '' : _this.managerId,\n          cid: _this.channelInfo.cid ? _this.channelInfo.cid : '',\n          orgId: _this.channelInfo.orgId\n        };\n\n        _this.$store.dispatch('userInfo/login', params).then(function (res) {\n          console.info('登录', res);\n\n          if (res.code == 0) {\n            var obj = JSON.stringify(res.data);\n            console.info('obj', obj);\n            localStorage.setItem('loginInfo', obj);\n            _this.roomLoginFlow = false;\n\n            if (_this.routeStr != 'setting') {\n              location.reload();\n            }\n          }\n        }).catch(function (err) {\n          console.info(err);\n          Toast('登录失败');\n        });\n      }).catch(function (err) {\n        console.info(err);\n      });\n    }\n  }\n};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.roomLoginFlow\n    ? _c(\n        \"div\",\n        { staticClass: \"roomLogin\" },\n        [\n          _c(\n            \"van-overlay\",\n            {\n              staticClass: \"shadow\",\n              attrs: { show: _vm.roomLoginFlow },\n              on: {\n                click: function($event) {\n                  _vm.roomLoginFlow = false\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                { staticClass: \"login_box\", on: { click: _vm.stop } },\n                [\n                  _c(\"div\", { staticClass: \"title\" }, [_vm._v(\"请登录直播间\")]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"box\" }, [\n                    _c(\"div\", { staticClass: \"left\" }, [\n                      _c(\"span\", [_vm._v(\"+86\")]),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"phone_igm\" }, [\n                        _c(\"img\", {\n                          attrs: {\n                            src: require(\"@/assets/login/logoin_drop.png\"),\n                            alt: \"\"\n                          }\n                        })\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"input_box\" }, [\n                      _c(\"input\", {\n                        directives: [\n                          {\n                            name: \"model\",\n                            rawName: \"v-model\",\n                            value: _vm.loginFrom.phone,\n                            expression: \"loginFrom.phone\"\n                          }\n                        ],\n                        attrs: { type: \"text\" },\n                        domProps: { value: _vm.loginFrom.phone },\n                        on: {\n                          input: function($event) {\n                            if ($event.target.composing) {\n                              return\n                            }\n                            _vm.$set(\n                              _vm.loginFrom,\n                              \"phone\",\n                              $event.target.value\n                            )\n                          }\n                        }\n                      })\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"box\" }, [\n                    _c(\"div\", { staticClass: \"code\" }, [\n                      _c(\"input\", {\n                        directives: [\n                          {\n                            name: \"model\",\n                            rawName: \"v-model\",\n                            value: _vm.loginFrom.code,\n                            expression: \"loginFrom.code\"\n                          }\n                        ],\n                        attrs: { type: \"text\", placeholder: \"请输入验证码\" },\n                        domProps: { value: _vm.loginFrom.code },\n                        on: {\n                          input: function($event) {\n                            if ($event.target.composing) {\n                              return\n                            }\n                            _vm.$set(_vm.loginFrom, \"code\", $event.target.value)\n                          }\n                        }\n                      })\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\n                      \"div\",\n                      { staticClass: \"btn\" },\n                      [\n                        _c(\"CodeButton\", {\n                          staticClass: \"codeBtn\",\n                          on: { codeButton: _vm.codeButton },\n                          model: {\n                            value: _vm.loginFrom.phone,\n                            callback: function($$v) {\n                              _vm.$set(_vm.loginFrom, \"phone\", $$v)\n                            },\n                            expression: \"loginFrom.phone\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"Button\", {\n                    staticClass: \"loginBtn\",\n                    attrs: { \"btn-text\": _vm.btnText },\n                    on: { btnClick: _vm.btnClick }\n                  })\n                ],\n                1\n              )\n            ]\n          )\n        ],\n        1\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".roomLogin[data-v-b824a4ce] {\\n  width: 100%;\\n  height: 100%;\\n  z-index: 99;\\n}\\n.roomLogin .shadow[data-v-b824a4ce] {\\n  width: 100%;\\n  height: 100%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n.roomLogin .shadow .login_box[data-v-b824a4ce] {\\n  width: 3.15rem;\\n  height: 2.5rem;\\n  -webkit-box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.05);\\n          box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.05);\\n  border-radius: 8px;\\n  background-color: white;\\n  padding: 0 0.12rem;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n}\\n.roomLogin .shadow .login_box .title[data-v-b824a4ce] {\\n  height: 0.54rem;\\n  line-height: 0.54rem;\\n  text-align: center;\\n  font-size: 18px;\\n  font-weight: 600;\\n}\\n.roomLogin .shadow .login_box .box[data-v-b824a4ce] {\\n  width: 100%;\\n  height: 0.5rem;\\n  background: #EEEEEE;\\n  border-radius: 8px;\\n  margin: 6px 0 ;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.roomLogin .shadow .login_box .box .left[data-v-b824a4ce] {\\n  width: 0.7rem;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -ms-flex-pack: distribute;\\n      justify-content: space-around;\\n}\\n.roomLogin .shadow .login_box .box .left .phone_igm[data-v-b824a4ce] {\\n  width: 0.17rem;\\n  height: 0.17rem;\\n}\\n.roomLogin .shadow .login_box .box .left .phone_igm img[data-v-b824a4ce] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.roomLogin .shadow .login_box .box .input_box[data-v-b824a4ce] {\\n  width: calc(100% - 0.7rem);\\n  height: 100%;\\n}\\n.roomLogin .shadow .login_box .box .input_box input[data-v-b824a4ce] {\\n  margin-left: 0.1rem;\\n  width: 80%;\\n  height: 100%;\\n  border: none;\\n  background-color: #EEEEEE;\\n}\\n.roomLogin .shadow .login_box .box .code[data-v-b824a4ce] {\\n  width: 55%;\\n  height: 100%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n}\\n.roomLogin .shadow .login_box .box .code input[data-v-b824a4ce] {\\n  border: none;\\n  width: 80%;\\n  height: 100%;\\n  background-color: #EEEEEE;\\n}\\n.roomLogin .shadow .login_box .box .btn[data-v-b824a4ce] {\\n  width: 45%;\\n  height: 100%;\\n}\\n.roomLogin .shadow .login_box .box .btn .codeBtn[data-v-b824a4ce] {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 0;\\n  font-size: 16px;\\n  color: #000000;\\n  font-weight: 500;\\n}\\n.roomLogin .shadow .loginBtn[data-v-b824a4ce] {\\n  margin-top: 0.2rem;\\n  color: #333333;\\n  font-size: 16px;\\n}\\n\", \"\"]);\n\n// exports\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=style&index=0&id=b824a4ce&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3ada2e05\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=style&index=0&id=b824a4ce&lang=less&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=style&index=0&id=b824a4ce&lang=less&scoped=true&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./roomLogin.vue?vue&type=template&id=b824a4ce&scoped=true&\"\nimport script from \"./roomLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./roomLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roomLogin.vue?vue&type=style&index=0&id=b824a4ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b824a4ce\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/alongshi/Desktop/SourceTree_Project/work/liveh5/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b824a4ce')) {\n      api.createRecord('b824a4ce', component.options)\n    } else {\n      api.reload('b824a4ce', component.options)\n    }\n    module.hot.accept(\"./roomLogin.vue?vue&type=template&id=b824a4ce&scoped=true&\", function () {\n      api.rerender('b824a4ce', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/liveRoom/compoents/roomLogin.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=style&index=0&id=b824a4ce&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"24a18758-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roomLogin.vue?vue&type=template&id=b824a4ce&scoped=true&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3IA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}